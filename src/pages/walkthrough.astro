---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';

const title = "Full Walkthrough & All Endings - Escape From Pizzeria";
const description = "Complete step-by-step walkthrough for Escape From Pizzeria. Detailed puzzle solutions, secret locations, and guide to unlock all endings.";
const keywords = "Escape From Pizzeria walkthrough, Escape From Pizzeria guide, how to beat Escape From Pizzeria, Escape From Pizzeria all endings, Escape From Pizzeria puzzle solutions";
---

<Layout title={title} description={description} keywords={keywords}>
	<Navigation />
	
	<main class="walkthrough-page">
		<div class="container">
			<!-- Header -->
			<header class="page-header">
				<h1>Escape From Pizzeria Walkthrough</h1>
				<p class="page-subtitle">Complete Guide & All Endings</p>
				<div class="warning-box">
					‚ö†Ô∏è <strong>Spoiler Warning:</strong> This guide contains complete solutions and story spoilers. 
					Play the game first for the best experience!
				</div>
			</header>

			<!-- Table of Contents -->
			<nav class="toc">
				<h2>Table of Contents</h2>
				<ul>
					<li><a href="#getting-started">Getting Started</a></li>
					<li><a href="#chapter1">Chapter 1: The Entrance</a></li>
					<li><a href="#chapter2">Chapter 2: Kitchen Nightmares</a></li>
					<li><a href="#chapter3">Chapter 3: The Basement</a></li>
					<li><a href="#chapter4">Chapter 4: Final Escape</a></li>
					<li><a href="#endings">All Endings Guide</a></li>
					<li><a href="#secrets">Hidden Secrets & Easter Eggs</a></li>
					<li><a href="#tips">Pro Tips & Strategies</a></li>
				</ul>
			</nav>

			<!-- Getting Started -->
			<section id="getting-started" class="guide-section">
				<h2>üéÆ Getting Started</h2>
				<div class="content-box">
					<h3>Basic Controls</h3>
					<ul>
						<li><strong>WASD / Arrow Keys:</strong> Move your character</li>
						<li><strong>Mouse Click:</strong> Interact with objects</li>
						<li><strong>E Key:</strong> Examine items closely</li>
						<li><strong>Tab:</strong> Open inventory</li>
						<li><strong>Shift:</strong> Run (limited stamina)</li>
					</ul>
					
					<h3>Important Mechanics</h3>
					<ul>
						<li><strong>Sanity System:</strong> Your sanity decreases in dark areas or when witnessing scary events</li>
						<li><strong>Inventory Limit:</strong> You can only carry 6 items at once</li>
						<li><strong>Save Points:</strong> Look for glowing pizza slices to save your progress</li>
						<li><strong>Multiple Paths:</strong> Many puzzles have alternative solutions</li>
					</ul>
				</div>
			</section>

			<!-- Chapter 1 -->
			<section id="chapter1" class="guide-section">
				<h2>üö™ Chapter 1: The Entrance</h2>
				<div class="content-box">
					<h3>Objective: Enter the pizzeria and find the main dining area</h3>
					
					<div class="step">
						<h4>Step 1: The Front Door</h4>
						<p>The front door is locked. Look for the key under the flower pot to the right of the entrance.</p>
						<div class="tip">üí° <strong>Tip:</strong> Check behind objects - many items are hidden from plain sight.</div>
					</div>

					<div class="step">
						<h4>Step 2: Reception Area Puzzle</h4>
						<p>Once inside, you'll find a number pad on the reception desk. The code is <strong>1987</strong> (the year the pizzeria opened - check the newspaper on the wall).</p>
					</div>

					<div class="step">
						<h4>Step 3: First Encounter</h4>
						<p>After entering the code, you'll hear strange noises. Don't panic! Hide behind the counter until the sounds stop.</p>
						<div class="warning">‚ö†Ô∏è <strong>Warning:</strong> Moving during this sequence will trigger a jump scare and reset your progress.</div>
					</div>
				</div>
			</section>

			<!-- Chapter 2 -->
			<section id="chapter2" class="guide-section">
				<h2>üçï Chapter 2: Kitchen Nightmares</h2>
				<div class="content-box">
					<h3>Objective: Navigate through the kitchen and find the basement key</h3>
					
					<div class="step">
						<h4>Step 1: The Freezer Puzzle</h4>
						<p>In the kitchen, you'll find a locked freezer. The combination is based on the pizza sizes on the menu:</p>
						<ul>
							<li>Small = 1</li>
							<li>Medium = 2</li>
							<li>Large = 3</li>
							<li>Extra Large = 4</li>
						</ul>
						<p>The code is <strong>3142</strong> (Large, Small, Extra Large, Medium).</p>
					</div>

					<div class="step">
						<h4>Step 2: The Oven Incident</h4>
						<p>Inside the freezer, you'll find a crowbar. Use it to pry open the old oven. Be prepared for a jump scare!</p>
					</div>

					<div class="step">
						<h4>Step 3: Finding the Basement Key</h4>
						<p>The basement key is hidden inside the oven, wrapped in an old pizza box. You'll also find a flashlight here - take it!</p>
					</div>
				</div>
			</section>

			<!-- Chapter 3 -->
			<section id="chapter3" class="guide-section">
				<h2>üï≥Ô∏è Chapter 3: The Basement</h2>
				<div class="content-box">
					<h3>Objective: Explore the basement and uncover the dark truth</h3>
					
					<div class="step">
						<h4>Step 1: The Generator</h4>
						<p>The basement is dark. Find the generator in the corner and start it using the red button. You'll need the flashlight to navigate safely.</p>
					</div>

					<div class="step">
						<h4>Step 2: The Security Office</h4>
						<p>Check the security monitors. You'll see disturbing footage that reveals the pizzeria's dark history. Take note of the safe combination shown in the footage: <strong>5683</strong>.</p>
					</div>

					<div class="step">
						<h4>Step 3: The Hidden Room</h4>
						<p>Behind a false wall (look for the slightly different colored brick), you'll find a hidden room with evidence of the pizzeria's crimes.</p>
					</div>
				</div>
			</section>

			<!-- Chapter 4 -->
			<section id="chapter4" class="guide-section">
				<h2>üèÉ Chapter 4: Final Escape</h2>
				<div class="content-box">
					<h3>Objective: Escape the pizzeria before it's too late</h3>
					
					<div class="step">
						<h4>Step 1: The Chase Sequence</h4>
						<p>After discovering the truth, you'll be chased. Run back upstairs and head for the emergency exit. Don't look back!</p>
						<div class="tip">üí° <strong>Tip:</strong> Use Shift to run, but watch your stamina bar.</div>
					</div>

					<div class="step">
						<h4>Step 2: The Final Door</h4>
						<p>The emergency exit requires a key card. Check the manager's office (behind the dining area) for the card.</p>
					</div>

					<div class="step">
						<h4>Step 3: Multiple Endings</h4>
						<p>Your choices throughout the game determine your ending. See the endings section below for details.</p>
					</div>
				</div>
			</section>

			<!-- Endings Guide -->
			<section id="endings" class="guide-section">
				<h2>üé≠ All Endings Guide</h2>
				<div class="content-box">
					<div class="ending">
						<h3>Ending 1: "The Survivor" (Good Ending)</h3>
						<p><strong>How to unlock:</strong> Collect all evidence in the basement and call the police using the phone in the manager's office before escaping.</p>
						<p><strong>Description:</strong> You escape and the pizzeria's crimes are exposed. Justice is served.</p>
					</div>

					<div class="ending">
						<h3>Ending 2: "The Witness" (Neutral Ending)</h3>
						<p><strong>How to unlock:</strong> Escape without collecting all evidence or calling the police.</p>
						<p><strong>Description:</strong> You escape, but the pizzeria's secrets remain hidden. The cycle continues.</p>
					</div>

					<div class="ending">
						<h3>Ending 3: "The Trapped" (Bad Ending)</h3>
						<p><strong>How to unlock:</strong> Fail to escape within the time limit or get caught during the chase sequence.</p>
						<p><strong>Description:</strong> You become another victim of the pizzeria's dark legacy.</p>
					</div>

					<div class="ending">
						<h3>Ending 4: "The Truth Seeker" (Secret Ending)</h3>
						<p><strong>How to unlock:</strong> Find all 7 hidden newspaper clippings throughout the game and read them all before the final chapter.</p>
						<p><strong>Description:</strong> You uncover the full truth about the pizzeria's history and the supernatural forces at work.</p>
					</div>
				</div>
			</section>

			<!-- Secrets -->
			<section id="secrets" class="guide-section">
				<h2>üîç Hidden Secrets & Easter Eggs</h2>
				<div class="content-box">
					<h3>Newspaper Clippings Locations</h3>
					<ol>
						<li><strong>Reception:</strong> Behind the plant on the counter</li>
						<li><strong>Dining Area:</strong> Under table 13</li>
						<li><strong>Kitchen:</strong> Inside the microwave</li>
						<li><strong>Freezer:</strong> Frozen in a block of ice (use hot water from the sink)</li>
						<li><strong>Basement:</strong> In the security office desk drawer</li>
						<li><strong>Hidden Room:</strong> Pinned to the wall</li>
						<li><strong>Manager's Office:</strong> In the safe (combination: 5683)</li>
					</ol>

					<h3>Easter Eggs</h3>
					<ul>
						<li><strong>Developer Photo:</strong> Check the employee of the month board</li>
						<li><strong>Pizza Recipe:</strong> The secret sauce recipe is written on the kitchen wall in UV-visible ink (use the blacklight from the basement)</li>
						<li><strong>Hidden Message:</strong> The first letter of each chapter spells out a secret message</li>
					</ul>
				</div>
			</section>

			<!-- Pro Tips -->
			<section id="tips" class="guide-section">
				<h2>üí™ Pro Tips & Strategies</h2>
				<div class="content-box">
					<ul>
						<li><strong>Save Often:</strong> Use every pizza slice save point you find</li>
						<li><strong>Manage Inventory:</strong> Drop items you don't need to make room for important ones</li>
						<li><strong>Listen Carefully:</strong> Audio cues often hint at nearby dangers or secrets</li>
						<li><strong>Check Everything:</strong> Interact with all objects - you never know what might be important</li>
						<li><strong>Multiple Playthroughs:</strong> Try different approaches to discover all content</li>
						<li><strong>Sanity Management:</strong> Stay in well-lit areas when possible to maintain sanity</li>
						<li><strong>Speed vs. Stealth:</strong> Sometimes it's better to run, sometimes to hide</li>
					</ul>
				</div>
			</section>

			<!-- Community Section -->
			<section class="community-section">
				<h2>üí¨ Community Discussion</h2>
				<p>Found a secret we missed? Have questions about the walkthrough? Join the discussion below!</p>
				<div id="comments-container">
					<!-- Giscus Comments Integration -->
					<script src="https://giscus.app/client.js"
							data-repo="escape-from-pizzeria/community"
							data-repo-id="R_kgDOL_example"
							data-category="Walkthrough Discussion"
							data-category-id="DIC_kwDOL_example"
							data-mapping="pathname"
							data-strict="0"
							data-reactions-enabled="1"
							data-emit-metadata="0"
							data-input-position="top"
							data-theme="dark_dimmed"
							data-lang="en"
							data-loading="lazy"
							crossorigin="anonymous"
							async>
					</script>

					<!-- Fallback for when Giscus is not available -->
					<noscript>
						<div class="comments-fallback">
							<p>üí¨ <strong>Join the Discussion!</strong></p>
							<p>Comments require JavaScript to be enabled. You can also discuss this walkthrough on:</p>
							<ul>
								<li><a href="https://reddit.com/r/EscapeFromPizzeria" target="_blank" rel="noopener">Reddit Community</a></li>
								<li><a href="https://discord.gg/escapefrompizzeria" target="_blank" rel="noopener">Discord Server</a></li>
								<li><a href="https://github.com/escape-from-pizzeria/community/discussions" target="_blank" rel="noopener">GitHub Discussions</a></li>
							</ul>
						</div>
					</noscript>
				</div>
			</section>
		</div>
	</main>
</Layout>

<style>
	.walkthrough-page {
		min-height: 100vh;
		padding: var(--spacing-lg) 0;
	}

	.container {
		max-width: 1000px;
		margin: 0 auto;
		padding: 0 var(--spacing-md);
	}

	/* Page Header */
	.page-header {
		text-align: center;
		margin-bottom: var(--spacing-xl);
	}

	.page-header h1 {
		font-size: clamp(2rem, 5vw, 3.5rem);
		margin-bottom: var(--spacing-md);
	}

	.page-subtitle {
		font-family: var(--font-retro);
		font-size: clamp(1rem, 2.5vw, 1.3rem);
		color: var(--color-accent-warning-yellow);
		text-transform: uppercase;
		letter-spacing: 0.1em;
		margin-bottom: var(--spacing-lg);
	}

	.warning-box {
		background: rgba(255, 215, 0, 0.1);
		border: 1px solid var(--color-accent-warning-yellow);
		border-radius: 8px;
		padding: var(--spacing-md);
		color: var(--color-accent-warning-yellow);
		font-family: var(--font-retro);
		max-width: 600px;
		margin: 0 auto;
	}

	/* Table of Contents */
	.toc {
		background: rgba(26, 26, 26, 0.8);
		border: 1px solid rgba(255, 107, 107, 0.3);
		border-radius: 8px;
		padding: var(--spacing-lg);
		margin-bottom: var(--spacing-xl);
		backdrop-filter: blur(5px);
	}

	.toc h2 {
		font-family: var(--font-retro);
		font-size: 1.3rem;
		margin-bottom: var(--spacing-md);
		color: var(--color-text-accent);
	}

	.toc ul {
		list-style: none;
		padding: 0;
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: var(--spacing-sm);
	}

	.toc li {
		margin: 0;
	}

	.toc a {
		display: block;
		padding: var(--spacing-sm) var(--spacing-md);
		color: var(--color-text-secondary);
		text-decoration: none;
		border-radius: 4px;
		transition: all 0.3s ease;
		font-family: var(--font-retro);
		font-size: 0.9rem;
	}

	.toc a:hover {
		background: rgba(255, 107, 107, 0.1);
		color: var(--color-text-accent);
		transform: translateX(5px);
	}

	/* Guide Sections */
	.guide-section {
		margin-bottom: var(--spacing-xl);
		scroll-margin-top: 100px; /* Account for fixed nav */
	}

	.guide-section h2 {
		font-size: clamp(1.5rem, 3vw, 2.2rem);
		margin-bottom: var(--spacing-lg);
		border-bottom: 2px solid rgba(255, 107, 107, 0.3);
		padding-bottom: var(--spacing-sm);
	}

	.content-box {
		background: rgba(26, 26, 26, 0.6);
		border: 1px solid rgba(255, 107, 107, 0.2);
		border-radius: 8px;
		padding: var(--spacing-lg);
		backdrop-filter: blur(5px);
	}

	.content-box h3 {
		font-family: var(--font-retro);
		font-size: 1.2rem;
		color: var(--color-accent-warning-yellow);
		margin-bottom: var(--spacing-md);
	}

	.content-box h4 {
		font-family: var(--font-retro);
		font-size: 1rem;
		color: var(--color-text-accent);
		margin-bottom: var(--spacing-sm);
	}

	.content-box ul, .content-box ol {
		margin-bottom: var(--spacing-md);
		padding-left: var(--spacing-lg);
	}

	.content-box li {
		margin-bottom: var(--spacing-sm);
		color: var(--color-text-secondary);
		line-height: 1.6;
	}

	/* Steps */
	.step {
		background: rgba(42, 42, 42, 0.5);
		border-left: 3px solid var(--color-text-accent);
		padding: var(--spacing-md);
		margin-bottom: var(--spacing-md);
		border-radius: 0 4px 4px 0;
	}

	.step:last-child {
		margin-bottom: 0;
	}

	/* Tips and Warnings */
	.tip, .warning {
		padding: var(--spacing-md);
		border-radius: 6px;
		margin: var(--spacing-md) 0;
		font-family: var(--font-retro);
		font-size: 0.9rem;
	}

	.tip {
		background: rgba(74, 93, 35, 0.2);
		border: 1px solid var(--color-accent-sickly-green);
		color: #90ee90;
	}

	.warning {
		background: rgba(255, 215, 0, 0.1);
		border: 1px solid var(--color-accent-warning-yellow);
		color: var(--color-accent-warning-yellow);
	}

	/* Endings */
	.ending {
		background: rgba(42, 42, 42, 0.7);
		border: 1px solid rgba(255, 107, 107, 0.3);
		border-radius: 6px;
		padding: var(--spacing-md);
		margin-bottom: var(--spacing-md);
	}

	.ending h3 {
		color: var(--color-text-accent);
		margin-bottom: var(--spacing-sm);
	}

	.ending p {
		margin-bottom: var(--spacing-sm);
	}

	.ending p:last-child {
		margin-bottom: 0;
	}

	/* Community Section */
	.community-section {
		background: rgba(26, 26, 26, 0.8);
		border: 1px solid rgba(255, 107, 107, 0.3);
		border-radius: 8px;
		padding: var(--spacing-lg);
		margin-top: var(--spacing-xl);
		text-align: center;
	}

	.community-section h2 {
		margin-bottom: var(--spacing-md);
		border-bottom: none;
	}

	.comments-placeholder {
		padding: var(--spacing-lg);
		color: var(--color-text-muted);
		font-style: italic;
	}

	.comments-fallback {
		background: rgba(42, 42, 42, 0.8);
		border: 1px solid rgba(255, 107, 107, 0.3);
		border-radius: 8px;
		padding: var(--spacing-lg);
		text-align: center;
	}

	.comments-fallback ul {
		list-style: none;
		padding: 0;
		margin-top: var(--spacing-md);
		display: flex;
		justify-content: center;
		gap: var(--spacing-lg);
		flex-wrap: wrap;
	}

	.comments-fallback li {
		margin: 0;
	}

	.comments-fallback a {
		display: inline-block;
		padding: var(--spacing-sm) var(--spacing-md);
		background: rgba(255, 107, 107, 0.1);
		border: 1px solid rgba(255, 107, 107, 0.3);
		border-radius: 4px;
		color: var(--color-text-accent);
		text-decoration: none;
		transition: all 0.3s ease;
		font-family: var(--font-retro);
		font-size: 0.9rem;
	}

	.comments-fallback a:hover {
		background: rgba(255, 107, 107, 0.2);
		border-color: rgba(255, 107, 107, 0.6);
		transform: translateY(-2px);
	}

	/* Giscus theme customization */
	:global(.giscus) {
		color-scheme: dark;
	}

	:global(.giscus-frame) {
		border-radius: 8px;
		border: 1px solid rgba(255, 107, 107, 0.2);
	}

	/* Responsive Design */
	@media (max-width: 768px) {
		.toc ul {
			grid-template-columns: 1fr;
		}

		.step {
			padding: var(--spacing-sm);
		}

		.content-box {
			padding: var(--spacing-md);
		}
	}

	/* Smooth scrolling for anchor links */
	html {
		scroll-behavior: smooth;
	}
</style>

<script>
	// Add structured data for walkthrough page
	document.addEventListener('DOMContentLoaded', () => {
		const structuredData = {
			"@context": "https://schema.org",
			"@type": "HowTo",
			"name": "How to Complete Escape From Pizzeria - Full Walkthrough",
			"description": "Complete step-by-step guide to beating Escape From Pizzeria horror game, including all endings and hidden secrets.",
			"image": "/walkthrough-image.jpg",
			"totalTime": "PT2H",
			"estimatedCost": {
				"@type": "MonetaryAmount",
				"currency": "USD",
				"value": "0"
			},
			"supply": [
				{
					"@type": "HowToSupply",
					"name": "Web Browser"
				},
				{
					"@type": "HowToSupply",
					"name": "Keyboard and Mouse"
				}
			],
			"tool": [
				{
					"@type": "HowToTool",
					"name": "Escape From Pizzeria Game"
				}
			],
			"step": [
				{
					"@type": "HowToStep",
					"name": "Chapter 1: The Entrance",
					"text": "Enter the pizzeria and find the main dining area by solving the reception puzzle.",
					"url": "#chapter1"
				},
				{
					"@type": "HowToStep",
					"name": "Chapter 2: Kitchen Nightmares",
					"text": "Navigate through the kitchen and find the basement key by solving the freezer puzzle.",
					"url": "#chapter2"
				},
				{
					"@type": "HowToStep",
					"name": "Chapter 3: The Basement",
					"text": "Explore the basement and uncover the dark truth behind the pizzeria.",
					"url": "#chapter3"
				},
				{
					"@type": "HowToStep",
					"name": "Chapter 4: Final Escape",
					"text": "Escape the pizzeria and unlock one of four possible endings.",
					"url": "#chapter4"
				}
			]
		};

		const script = document.createElement('script');
		script.type = 'application/ld+json';
		script.textContent = JSON.stringify(structuredData);
		document.head.appendChild(script);

		// Smooth scrolling for table of contents links
		const tocLinks = document.querySelectorAll('.toc a[href^="#"]');
		tocLinks.forEach(link => {
			link.addEventListener('click', (e) => {
				e.preventDefault();
				const targetId = link.getAttribute('href').substring(1);
				const targetElement = document.getElementById(targetId);
				if (targetElement) {
					targetElement.scrollIntoView({
						behavior: 'smooth',
						block: 'start'
					});
				}
			});
		});

		// Highlight current section in TOC
		const sections = document.querySelectorAll('.guide-section[id]');
		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					// Remove active class from all TOC links
					tocLinks.forEach(link => link.classList.remove('active'));
					// Add active class to current section's TOC link
					const currentLink = document.querySelector(`.toc a[href="#${entry.target.id}"]`);
					if (currentLink) {
						currentLink.classList.add('active');
					}
				}
			});
		}, {
			rootMargin: '-100px 0px -50% 0px'
		});

		sections.forEach(section => observer.observe(section));
	});
</script>
